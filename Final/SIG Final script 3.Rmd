---
title: "SIG Final script 3"
author: "Chang-Beom LEE"
date: "5/12/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(sf)
library(mapsf)
```

```{r}
library(leaflet)
leaflet()%>%addTiles()
```

```{r}
m<-leaflet()
m<-addTiles(m)
m
```

```{r}
setwd("/Users/chang-beom.lee/Desktop/Final/data")
library(sf)
vote<-st_read("vote.gpkg","jointure")
insee<-st_read("insee.gpkg","bondy")
```

```{r}
pal<-colorNumeric(
  palette = "YIOrRd",
  domain = insee$Men_prop
)
leaflet(insee) %>%
  addPolygons(color = "#444444", weight = 1, smoothFactor = 0.5,
    opacity = 1.0, fillOpacity = 0.5,
    fillColor = ~colorQuantile("YlOrRd",Men_prop)(Men_prop),
    highlightOptions = highlightOptions(color = "white", weight = 2,
      bringToFront = TRUE)) %>% addLegend("bottomright", pal = pal, values = ~Men_prop,
    title = "Nombre de ménages propriétaires",
    opacity = 1
  ) %>% addTiles()
```

```{r}
inter<-st_intersection(vote,insee)
summary(inter)
```

```{r}
merge()
merge(x,y)
merge(vote,insee)
```

```{r}
mf_export(inter, filename ="img/propchoroF.png", width = 1000, res = 200, expandBB = c(0,0,0,0.6))
mf_map(inter, col = "orange", border = "antiquewhite1")
mf_map(inter, type ="prop_choro", var = c("vote", "densite"), leg_pos = c("topright", "right"))
mf_layout("Euh...", credits = "INSEE / PV Electoral\nBondy, avril 2022")
dev.off()
```

-> Je me souviens avoir appris à utiliser la commande merge quand l'on intégre les deux documents. Mais je ne savais pas comment l'utiliser, donc je n'ai pas pu terminer ce script 3.